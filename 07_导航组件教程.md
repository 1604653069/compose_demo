# Jetpack Compose 导航组件完全指南

## 前言

在移动应用中，导航组件是用户体验的核心，它们帮助用户在应用的不同部分之间轻松切换。Jetpack Compose 提供了丰富的导航组件，包括 NavigationRail、BottomNavigation、TabRow、ScrollableTabRow 等，遵循 Material Design 3 设计规范。本文将详细介绍这些导航组件的使用方法和最佳实践。

---

## 1. NavigationRail - 侧边导航栏

NavigationRail 是一个垂直排列的导航栏，通常位于应用界面的左侧或右侧，适合大屏幕设备和平板应用。

### 1.1 基础 NavigationRail

```kotlin
@Composable
fun BasicNavigationRailExample() {
    var selectedIndex by remember { mutableIntStateOf(0) }
    val items = listOf(
        "首页" to Icons.Default.Home,
        "搜索" to Icons.Default.Search,
        "添加" to Icons.Default.Add,
        "通知" to Icons.Default.Notifications,
        "个人" to Icons.Default.Person
    )

    Row(modifier = Modifier.fillMaxSize()) {
        NavigationRail(
            modifier = Modifier.fillMaxHeight(),
            containerColor = MaterialTheme.colorScheme.surfaceVariant
        ) {
            items.forEachIndexed { index, (label, icon) ->
                NavigationRailItem(
                    icon = { Icon(icon, contentDescription = label) },
                    label = { Text(label) },
                    selected = selectedIndex == index,
                    onClick = { selectedIndex = index }
                )
            }
        }

        // 内容区域
        Column(
            modifier = Modifier
                .weight(1f)
                .padding(16.dp)
        ) {
            Text(
                text = "当前选择: ${items[selectedIndex].first}",
                style = MaterialTheme.typography.headlineMedium,
                fontWeight = FontWeight.Bold
            )

            Spacer(modifier = Modifier.height(16.dp))

            Card {
                Column(
                    modifier = Modifier.padding(16.dp),
                    verticalArrangement = Arrangement.spacedBy(8.dp)
                ) {
                    Text(
                        text = "页面内容",
                        style = MaterialTheme.typography.titleMedium,
                        fontWeight = FontWeight.Bold
                    )
                    Text(
                        text = "这是 ${items[selectedIndex].first} 页面的内容区域。" +
                              "NavigationRail 提供了垂直导航，适合大屏幕使用。",
                        style = MaterialTheme.typography.bodyMedium
                    )
                }
            }
        }
    }
}
```

### 1.2 带徽章的 NavigationRail

```kotlin
@Composable
fun NavigationRailWithBadgesExample() {
    var selectedIndex by remember { mutableIntStateOf(0) }
    val notificationCount = 5

    val items = listOf(
        Triple("首页", Icons.Default.Home, 0),
        Triple("消息", Icons.Default.Message, 12),
        Triple("通知", Icons.Default.Notifications, notificationCount),
        Triple("个人", Icons.Default.Person, 0)
    )

    Row(modifier = Modifier.fillMaxSize()) {
        NavigationRail(
            modifier = Modifier.fillMaxHeight(),
            containerColor = MaterialTheme.colorScheme.surfaceVariant
        ) {
            items.forEachIndexed { index, (label, icon, badge) ->
                NavigationRailItem(
                    icon = {
                        Box {
                            Icon(icon, contentDescription = label)
                            if (badge > 0) {
                                Badge(
                                    modifier = Modifier.offset(x = 8.dp, y = (-8).dp)
                                ) {
                                    Text(
                                        text = if (badge > 99) "99+" else badge.toString(),
                                        style = MaterialTheme.typography.bodySmall
                                    )
                                }
                            }
                        }
                    },
                    label = { Text(label) },
                    selected = selectedIndex == index,
                    onClick = { selectedIndex = index }
                )
            }
        }

        // 内容区域
        Column(
            modifier = Modifier
                .weight(1f)
                .padding(16.dp)
        ) {
            val currentItem = items[selectedIndex]
            Text(
                text = "当前页面: ${currentItem.first}",
                style = MaterialTheme.typography.headlineMedium,
                fontWeight = FontWeight.Bold
            )

            Spacer(modifier = Modifier.height(16.dp))

            if (currentItem.third > 0) {
                Card(
                    colors = CardDefaults.cardColors(
                        containerColor = MaterialTheme.colorScheme.primaryContainer
                    )
                ) {
                    Text(
                        text = "您有 ${currentItem.third} 条未读${currentItem.first}",
                        modifier = Modifier.padding(16.dp),
                        style = MaterialTheme.typography.bodyMedium,
                        color = MaterialTheme.colorScheme.onPrimaryContainer
                    )
                }
            }
        }
    }
}
```

### 1.3 自定义样式 NavigationRail

```kotlin
@Composable
fun CustomNavigationRailExample() {
    var selectedIndex by remember { mutableIntStateOf(0) }

    val categories = listOf(
        "工作区" to Icons.Default.WorkspacePremium,
        "项目" to Icons.Default.Folder,
        "团队" to Icons.Default.Group,
        "分析" to Icons.Default.Analytics,
        "设置" to Icons.Default.Settings
    )

    Row(modifier = Modifier.fillMaxSize()) {
        NavigationRail(
            modifier = Modifier
                .fillMaxHeight()
                .width(80.dp),
            containerColor = MaterialTheme.colorScheme.surface,
            header = {
                Column(
                    modifier = Modifier.padding(vertical = 16.dp),
                    horizontalAlignment = Alignment.CenterHorizontally
                ) {
                    Surface(
                        modifier = Modifier.size(48.dp),
                        shape = CircleShape,
                        color = MaterialTheme.colorScheme.primary
                    ) {
                        Box(contentAlignment = Alignment.Center) {
                            Icon(
                                imageVector = Icons.Default.Apps,
                                contentDescription = "Logo",
                                tint = MaterialTheme.colorScheme.onPrimary,
                                modifier = Modifier.size(28.dp)
                            )
                        }
                    }
                    Text(
                        text = "App",
                        style = MaterialTheme.typography.labelSmall,
                        modifier = Modifier.padding(top = 4.dp)
                    )
                }
            }
        ) {
            HorizontalDivider(
                modifier = Modifier.padding(horizontal = 12.dp),
                color = MaterialTheme.colorScheme.onSurface.copy(alpha = 0.12f)
            )

            Spacer(modifier = Modifier.height(8.dp))

            categories.forEachIndexed { index, (label, icon) ->
                NavigationRailItem(
                    icon = {
                        Column(horizontalAlignment = Alignment.CenterHorizontally) {
                            Icon(
                                icon,
                                contentDescription = label,
                                modifier = Modifier.size(24.dp)
                            )
                            Text(
                                text = label,
                                style = MaterialTheme.typography.labelSmall,
                                textAlign = TextAlign.Center
                            )
                        }
                    },
                    label = { }, // 已经在 icon 中显示
                    selected = selectedIndex == index,
                    onClick = { selectedIndex = index },
                    modifier = Modifier.padding(vertical = 4.dp)
                )
            }
        }

        // 内容区域
        Column(
            modifier = Modifier
                .weight(1f)
                .padding(16.dp)
        ) {
            Text(
                text = categories[selectedIndex].first,
                style = MaterialTheme.typography.headlineMedium,
                fontWeight = FontWeight.Bold
            )

            Spacer(modifier = Modifier.height(16.dp))

            LazyVerticalGrid(
                columns = GridCells.Adaptive(minSize = 150.dp),
                horizontalArrangement = Arrangement.spacedBy(16.dp),
                verticalArrangement = Arrangement.spacedBy(16.dp)
            ) {
                items(6) { index ->
                    Card {
                        Column(
                            modifier = Modifier.padding(16.dp),
                            horizontalAlignment = Alignment.CenterHorizontally
                        ) {
                            Surface(
                                modifier = Modifier.size(48.dp),
                                shape = CircleShape,
                                color = MaterialTheme.colorScheme.primaryContainer
                            ) {
                                Box(contentAlignment = Alignment.Center) {
                                    Text(
                                        text = "${index + 1}",
                                        style = MaterialTheme.typography.titleMedium,
                                        color = MaterialTheme.colorScheme.onPrimaryContainer
                                    )
                                }
                            }
                            Spacer(modifier = Modifier.height(8.dp))
                            Text(
                                text = "项目 ${index + 1}",
                                style = MaterialTheme.typography.titleSmall
                            )
                        }
                    }
                }
            }
        }
    }
}
```

---

## 2. BottomNavigation - 底部导航栏

BottomNavigation 是移动应用中最常用的导航模式，位于屏幕底部，适合 3-5 个主要导航项。

### 2.1 基础 BottomNavigation

```kotlin
@Composable
fun BasicBottomNavigationExample() {
    var selectedIndex by remember { mutableIntStateOf(0) }
    val items = listOf(
        "首页" to Icons.Default.Home,
        "探索" to Icons.Default.Explore,
        "消息" to Icons.Default.Message,
        "通知" to Icons.Default.Notifications,
        "个人" to Icons.Default.Person
    )

    Scaffold(
        bottomBar = {
            NavigationBar(
                containerColor = MaterialTheme.colorScheme.surfaceVariant
            ) {
                items.forEachIndexed { index, (label, icon) ->
                    NavigationBarItem(
                        icon = { Icon(icon, contentDescription = label) },
                        label = { Text(label) },
                        selected = selectedIndex == index,
                        onClick = { selectedIndex = index }
                    )
                }
            }
        }
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues)
                .padding(16.dp),
            verticalArrangement = Arrangement.spacedBy(16.dp)
        ) {
            Text(
                text = "Bottom Navigation 演示",
                style = MaterialTheme.typography.headlineMedium,
                fontWeight = FontWeight.Bold
            )

            Text(
                text = "当前选择: ${items[selectedIndex].first}",
                style = MaterialTheme.typography.bodyLarge
            )

            Card(
                modifier = Modifier.fillMaxWidth()
            ) {
                Column(
                    modifier = Modifier.padding(16.dp),
                    verticalArrangement = Arrangement.spacedBy(8.dp)
                ) {
                    Text(
                        text = "页面内容",
                        style = MaterialTheme.typography.titleMedium,
                        fontWeight = FontWeight.Bold
                    )
                    Text(
                        text = "这是 ${items[selectedIndex].first} 页面的内容。" +
                              "Bottom Navigation 提供了便捷的底部导航体验。",
                        style = MaterialTheme.typography.bodyMedium
                    )
                }
            }
        }
    }
}
```

### 2.2 带徽章的 BottomNavigation

```kotlin
@Composable
fun BottomNavigationWithBadgesExample() {
    var selectedIndex by remember { mutableIntStateOf(0) }
    val messageCount = 8
    val notificationCount = 3

    val items = listOf(
        Triple("首页", Icons.Default.Home, null),
        Triple("探索", Icons.Default.Explore, null),
        Triple("消息", Icons.Default.Message, messageCount),
        Triple("通知", Icons.Default.Notifications, notificationCount),
        Triple("个人", Icons.Default.Person, null)
    )

    Scaffold(
        bottomBar = {
            NavigationBar {
                items.forEachIndexed { index, (label, icon, badge) ->
                    NavigationBarItem(
                        icon = {
                            BadgedBox(
                                badge = {
                                    if (badge != null && badge > 0) {
                                        Badge {
                                            Text(
                                                text = if (badge > 99) "99+" else badge.toString(),
                                                style = MaterialTheme.typography.bodySmall
                                            )
                                        }
                                    }
                                }
                            ) {
                                Icon(icon, contentDescription = label)
                            }
                        },
                        label = { Text(label) },
                        selected = selectedIndex == index,
                        onClick = { selectedIndex = index }
                    )
                }
            }
        }
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues)
                .padding(16.dp)
        ) {
            val currentItem = items[selectedIndex]
            Text(
                text = currentItem.first,
                style = MaterialTheme.typography.headlineMedium,
                fontWeight = FontWeight.Bold
            )

            Spacer(modifier = Modifier.height(16.dp))

            if (currentItem.third != null) {
                Card(
                    colors = CardDefaults.cardColors(
                        containerColor = MaterialTheme.colorScheme.secondaryContainer
                    )
                ) {
                    Text(
                        text = "您有 ${currentItem.third} 条新${currentItem.first}",
                        modifier = Modifier.padding(16.dp),
                        style = MaterialTheme.typography.bodyMedium,
                        color = MaterialTheme.colorScheme.onSecondaryContainer
                    )
                }
            }

            // 模拟内容列表
            LazyColumn(
                verticalArrangement = Arrangement.spacedBy(8.dp)
            ) {
                items(5) { index ->
                    Card {
                        Row(
                            modifier = Modifier.padding(16.dp),
                            verticalAlignment = Alignment.CenterVertically
                        ) {
                            Surface(
                                modifier = Modifier.size(40.dp),
                                shape = CircleShape,
                                color = MaterialTheme.colorScheme.primaryContainer
                            ) {
                                Box(contentAlignment = Alignment.Center) {
                                    Text(
                                        text = "${index + 1}",
                                        style = MaterialTheme.typography.titleSmall,
                                        color = MaterialTheme.colorScheme.onPrimaryContainer
                                    )
                                }
                            }
                            Spacer(modifier = Modifier.width(12.dp))
                            Column(modifier = Modifier.weight(1f)) {
                                Text(
                                    text = "${currentItem.first} 项目 ${index + 1}",
                                    style = MaterialTheme.typography.titleSmall
                                )
                                Text(
                                    text = "这是项目描述信息",
                                    style = MaterialTheme.typography.bodySmall,
                                    color = MaterialTheme.colorScheme.onSurfaceVariant
                                )
                            }
                        }
                    }
                }
            }
        }
    }
}
```

### 2.3 自定义 BottomNavigation

```kotlin
@Composable
fun CustomBottomNavigationExample() {
    var selectedIndex by remember { mutableIntStateOf(0) }

    val items = listOf(
        "发现" to Icons.Default.Explore,
        "创作" to Icons.Default.Create,
        "消息" to Icons.Default.Message,
        "我的" to Icons.Default.Person
    )

    Scaffold(
        bottomBar = {
            Surface(
                shadowElevation = 8.dp
            ) {
                NavigationBar(
                    containerColor = MaterialTheme.colorScheme.surface
                ) {
                    items.forEachIndexed { index, (label, icon) ->
                        NavigationBarItem(
                            icon = {
                                Icon(
                                    icon,
                                    contentDescription = label,
                                    modifier = Modifier.size(24.dp)
                                )
                            },
                            label = {
                                Text(
                                    text = label,
                                    style = MaterialTheme.typography.labelSmall
                                )
                            },
                            selected = selectedIndex == index,
                            onClick = { selectedIndex = index },
                            colors = NavigationBarItemDefaults.colors(
                                selectedIconColor = MaterialTheme.colorScheme.primary,
                                selectedTextColor = MaterialTheme.colorScheme.primary,
                                indicatorColor = MaterialTheme.colorScheme.primary.copy(alpha = 0.1f)
                            )
                        )
                    }
                }
            }
        },
        floatingActionButton = {
            FloatingActionButton(
                onClick = { /* 添加新内容 */ },
                containerColor = MaterialTheme.colorScheme.tertiary,
                contentColor = MaterialTheme.colorScheme.onTertiary
            ) {
                Icon(Icons.Default.Add, contentDescription = "添加")
            }
        },
        floatingActionButtonPosition = FabPosition.Center
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues)
                .padding(16.dp)
        ) {
            Text(
                text = items[selectedIndex].first,
                style = MaterialTheme.typography.headlineMedium,
                fontWeight = FontWeight.Bold
            )

            Spacer(modifier = Modifier.height(16.dp))

            // 根据选择显示不同内容
            when (selectedIndex) {
                0 -> DiscoveryContent()
                1 -> CreateContent()
                2 -> MessageContent()
                3 -> ProfileContent()
            }
        }
    }
}

@Composable
private fun DiscoveryContent() {
    LazyVerticalGrid(
        columns = GridCells.Fixed(2),
        horizontalArrangement = Arrangement.spacedBy(16.dp),
        verticalArrangement = Arrangement.spacedBy(16.dp)
    ) {
        items(8) { index ->
            Card {
                Column(
                    modifier = Modifier.padding(16.dp),
                    horizontalAlignment = Alignment.CenterHorizontally
                ) {
                    Surface(
                        modifier = Modifier.size(60.dp),
                        shape = CircleShape,
                        color = MaterialTheme.colorScheme.primaryContainer
                    ) {
                        Box(contentAlignment = Alignment.Center) {
                            Icon(
                                imageVector = Icons.Default.Image,
                                contentDescription = null,
                                modifier = Modifier.size(32.dp),
                                tint = MaterialTheme.colorScheme.primary
                            )
                        }
                    }
                    Spacer(modifier = Modifier.height(8.dp))
                    Text(
                        text = "发现 ${index + 1}",
                        style = MaterialTheme.typography.titleSmall
                    )
                }
            }
        }
    }
}

@Composable
private fun CreateContent() {
    Card {
        Column(
            modifier = Modifier.padding(24.dp),
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Icon(
                imageVector = Icons.Default.Create,
                contentDescription = null,
                modifier = Modifier.size(64.dp),
                tint = MaterialTheme.colorScheme.primary
            )
            Spacer(modifier = Modifier.height(16.dp))
            Text(
                text = "创作中心",
                style = MaterialTheme.typography.titleLarge
            )
            Text(
                text = "点击中间的添加按钮开始创作",
                style = MaterialTheme.typography.bodyMedium,
                color = MaterialTheme.colorScheme.onSurfaceVariant,
                textAlign = TextAlign.Center
            )
        }
    }
}

@Composable
private fun MessageContent() {
    Column(verticalArrangement = Arrangement.spacedBy(8.dp)) {
        listOf("系统通知", "朋友消息", "互动消息").forEach { type ->
            Card {
                Row(
                    modifier = Modifier.padding(16.dp),
                    verticalAlignment = Alignment.CenterVertically
                ) {
                    Surface(
                        modifier = Modifier.size(40.dp),
                        shape = CircleShape,
                        color = MaterialTheme.colorScheme.secondaryContainer
                    ) {
                        Box(contentAlignment = Alignment.Center) {
                            Icon(
                                imageVector = Icons.Default.Message,
                                contentDescription = null,
                                modifier = Modifier.size(20.dp),
                                tint = MaterialTheme.colorScheme.onSecondaryContainer
                            )
                        }
                    }
                    Spacer(modifier = Modifier.width(12.dp))
                    Column(modifier = Modifier.weight(1f)) {
                        Text(
                            text = type,
                            style = MaterialTheme.typography.titleSmall
                        )
                        Text(
                            text = "暂无新消息",
                            style = MaterialTheme.typography.bodySmall,
                            color = MaterialTheme.colorScheme.onSurfaceVariant
                        )
                    }
                    Icon(
                        imageVector = Icons.Default.KeyboardArrowRight,
                        contentDescription = null,
                        tint = MaterialTheme.colorScheme.onSurfaceVariant
                    )
                }
            }
        }
    }
}

@Composable
private fun ProfileContent() {
    Card {
        Column(
            modifier = Modifier.padding(24.dp),
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Surface(
                modifier = Modifier.size(80.dp),
                shape = CircleShape,
                color = MaterialTheme.colorScheme.primaryContainer
            ) {
                Box(contentAlignment = Alignment.Center) {
                    Icon(
                        imageVector = Icons.Default.Person,
                        contentDescription = null,
                        modifier = Modifier.size(40.dp),
                        tint = MaterialTheme.colorScheme.onPrimaryContainer
                    )
                }
            }
            Spacer(modifier = Modifier.height(16.dp))
            Text(
                text = "用户名",
                style = MaterialTheme.typography.titleMedium
            )
            Text(
                text = "user@example.com",
                style = MaterialTheme.typography.bodyMedium,
                color = MaterialTheme.colorScheme.onSurfaceVariant
            )
            Spacer(modifier = Modifier.height(16.dp))
            Row(
                horizontalArrangement = Arrangement.spacedBy(16.dp)
            ) {
                OutlinedButton(onClick = { /* 编辑资料 */ }) {
                    Text("编辑资料")
                }
                Button(onClick = { /* 设置 */ }) {
                    Text("设置")
                }
            }
        }
    }
}
```

---

## 3. TabRow - 标签页导航

TabRow 提供了水平排列的标签页导航，适合在单个页面内组织不同类型的内容。

### 3.1 基础 TabRow

```kotlin
@Composable
fun BasicTabRowExample() {
    var selectedTabIndex by remember { mutableIntStateOf(0) }
    val tabs = listOf("推荐", "热门", "最新", "关注")

    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {
        Text(
            text = "TabRow 演示",
            style = MaterialTheme.typography.headlineMedium,
            fontWeight = FontWeight.Bold,
            modifier = Modifier.padding(bottom = 16.dp)
        )

        TabRow(
            selectedTabIndex = selectedTabIndex
        ) {
            tabs.forEachIndexed { index, tab ->
                Tab(
                    selected = selectedTabIndex == index,
                    onClick = { selectedTabIndex = index },
                    text = { Text(tab) }
                )
            }
        }

        Spacer(modifier = Modifier.height(16.dp))

        Card(
            modifier = Modifier.fillMaxWidth()
        ) {
            Column(
                modifier = Modifier.padding(24.dp),
                horizontalAlignment = Alignment.CenterHorizontally
            ) {
                Icon(
                    imageVector = Icons.Default.Info,
                    contentDescription = null,
                    modifier = Modifier.size(48.dp),
                    tint = MaterialTheme.colorScheme.primary
                )
                Spacer(modifier = Modifier.height(16.dp))
                Text(
                    text = "当前标签: ${tabs[selectedTabIndex]}",
                    style = MaterialTheme.typography.titleMedium
                )
                Spacer(modifier = Modifier.height(8.dp))
                Text(
                    text = "这是${tabs[selectedTabIndex]}标签的内容",
                    style = MaterialTheme.typography.bodyMedium,
                    color = MaterialTheme.colorScheme.onSurfaceVariant
                )
            }
        }
    }
}
```

### 3.2 带图标的 TabRow

```kotlin
@Composable
fun IconTabRowExample() {
    var selectedTabIndex by remember { mutableIntStateOf(0) }

    val tabs = listOf(
        Triple("首页", Icons.Default.Home, "显示推荐内容"),
        Triple("视频", Icons.Default.VideoFile, "浏览视频内容"),
        Triple("图片", Icons.Default.Image, "查看图片内容"),
        Triple("文章", Icons.Default.Article, "阅读文章内容")
    )

    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {
        Text(
            text = "带图标的 TabRow",
            style = MaterialTheme.typography.headlineMedium,
            fontWeight = FontWeight.Bold,
            modifier = Modifier.padding(bottom = 16.dp)
        )

        TabRow(
            selectedTabIndex = selectedTabIndex
        ) {
            tabs.forEachIndexed { index, (title, icon, description) ->
                Tab(
                    selected = selectedTabIndex == index,
                    onClick = { selectedTabIndex = index },
                    icon = { Icon(icon, contentDescription = title) },
                    text = { Text(title) }
                )
            }
        }

        Spacer(modifier = Modifier.height(16.dp))

        val currentTab = tabs[selectedTabIndex]
        Card(
            modifier = Modifier.fillMaxWidth()
        ) {
            Column(
                modifier = Modifier.padding(24.dp),
                horizontalAlignment = Alignment.CenterHorizontally
            ) {
                Icon(
                    imageVector = currentTab.second,
                    contentDescription = null,
                    modifier = Modifier.size(64.dp),
                    tint = MaterialTheme.colorScheme.primary
                )
                Spacer(modifier = Modifier.height(16.dp))
                Text(
                    text = currentTab.first,
                    style = MaterialTheme.typography.titleLarge
                )
                Spacer(modifier = Modifier.height(8.dp))
                Text(
                    text = currentTab.third,
                    style = MaterialTheme.typography.bodyMedium,
                    color = MaterialTheme.colorScheme.onSurfaceVariant,
                    textAlign = TextAlign.Center
                )

                Spacer(modifier = Modifier.height(24.dp))

                // 模拟内容
                LazyVerticalGrid(
                    columns = GridCells.Fixed(2),
                    horizontalArrangement = Arrangement.spacedBy(12.dp),
                    verticalArrangement = Arrangement.spacedBy(12.dp)
                ) {
                    items(6) { index ->
                        Card {
                            Surface(
                                modifier = Modifier
                                    .fillMaxWidth()
                                    .height(80.dp),
                                color = MaterialTheme.colorScheme.surfaceVariant
                            ) {
                                Box(contentAlignment = Alignment.Center) {
                                    Text(
                                        text = "${currentTab.first} ${index + 1}",
                                        style = MaterialTheme.typography.bodySmall
                                    )
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
```

### 3.3 ScrollableTabRow - 可滚动标签页

```kotlin
@Composable
fun ScrollableTabRowExample() {
    var selectedTabIndex by remember { mutableIntStateOf(0) }
    val tabs = listOf(
        "全部", "Android", "iOS", "Flutter", "React Native",
        "Web", "后端", "数据库", "AI", "机器学习",
        "DevOps", "测试", "设计", "产品", "运营"
    )

    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {
        Text(
            text = "ScrollableTabRow 演示",
            style = MaterialTheme.typography.headlineMedium,
            fontWeight = FontWeight.Bold,
            modifier = Modifier.padding(bottom = 16.dp)
        )

        ScrollableTabRow(
            selectedTabIndex = selectedTabIndex,
            modifier = Modifier.fillMaxWidth(),
            edgePadding = 0.dp
        ) {
            tabs.forEachIndexed { index, tab ->
                Tab(
                    selected = selectedTabIndex == index,
                    onClick = { selectedTabIndex = index },
                    text = { Text(tab) }
                )
            }
        }

        Spacer(modifier = Modifier.height(16.dp))

        Card(
            modifier = Modifier.fillMaxWidth()
        ) {
            Column(
                modifier = Modifier.padding(24.dp),
                horizontalAlignment = Alignment.CenterHorizontally
            ) {
                Icon(
                    imageVector = Icons.Default.Category,
                    contentDescription = null,
                    modifier = Modifier.size(48.dp),
                    tint = MaterialTheme.colorScheme.secondary
                )
                Spacer(modifier = Modifier.height(16.dp))
                Text(
                    text = "当前分类: ${tabs[selectedTabIndex]}",
                    style = MaterialTheme.typography.titleMedium
                )
                Spacer(modifier = Modifier.height(8.dp))
                Text(
                    text = "可滚动标签页支持更多标签项",
                    style = MaterialTheme.typography.bodyMedium,
                    color = MaterialTheme.colorScheme.onSurfaceVariant
                )

                Spacer(modifier = Modifier.height(16.dp))

                // 标签统计信息
                Row(
                    modifier = Modifier.fillMaxWidth(),
                    horizontalArrangement = Arrangement.SpaceEvenly
                ) {
                    Column(horizontalAlignment = Alignment.CenterHorizontally) {
                        Text(
                            text = "${(selectedTabIndex + 1) * 12}",
                            style = MaterialTheme.typography.titleLarge,
                            color = MaterialTheme.colorScheme.primary
                        )
                        Text(
                            text = "文章数",
                            style = MaterialTheme.typography.bodySmall
                        )
                    }
                    Column(horizontalAlignment = Alignment.CenterHorizontally) {
                        Text(
                            text = "${(selectedTabIndex + 1) * 45}",
                            style = MaterialTheme.typography.titleLarge,
                            color = MaterialTheme.colorScheme.secondary
                        )
                        Text(
                            text = "阅读量",
                            style = MaterialTheme.typography.bodySmall
                        )
                    }
                    Column(horizontalAlignment = Alignment.CenterHorizontally) {
                        Text(
                            text = "${(selectedTabIndex + 1) * 8}",
                            style = MaterialTheme.typography.titleLarge,
                            color = MaterialTheme.colorScheme.tertiary
                        )
                        Text(
                            text = "收藏数",
                            style = MaterialTheme.typography.bodySmall
                        )
                    }
                }
            }
        }
    }
}
```

### 3.4 带指示器的自定义 TabRow

```kotlin
@Composable
fun CustomIndicatorTabRowExample() {
    var selectedTabIndex by remember { mutableIntStateOf(0) }
    val tabs = listOf("动态", "视频", "文章", "问答")

    Column(modifier = Modifier.fillMaxSize().padding(16.dp)) {
        Text(
            text = "自定义指示器 TabRow",
            style = MaterialTheme.typography.headlineMedium,
            fontWeight = FontWeight.Bold,
            modifier = Modifier.padding(bottom = 16.dp)
        )

        TabRow(
            selectedTabIndex = selectedTabIndex,
            indicator = { tabPositions ->
                TabRowDefaults.Indicator(
                    modifier = Modifier.tabIndicatorOffset(tabPositions[selectedTabIndex]),
                    height = 4.dp,
                    color = MaterialTheme.colorScheme.primary
                )
            },
            divider = {
                HorizontalDivider(
                    thickness = 1.dp,
                    color = MaterialTheme.colorScheme.onSurface.copy(alpha = 0.12f)
                )
            }
        ) {
            tabs.forEachIndexed { index, tab ->
                Tab(
                    selected = selectedTabIndex == index,
                    onClick = { selectedTabIndex = index },
                    text = {
                        Text(
                            text = tab,
                            style = if (selectedTabIndex == index)
                                MaterialTheme.typography.titleMedium
                            else MaterialTheme.typography.bodyMedium,
                            color = if (selectedTabIndex == index)
                                MaterialTheme.colorScheme.primary
                            else MaterialTheme.colorScheme.onSurfaceVariant
                        )
                    }
                )
            }
        }

        Spacer(modifier = Modifier.height(16.dp))

        // 内容区域
        LazyColumn(
            verticalArrangement = Arrangement.spacedBy(12.dp)
        ) {
            items(10) { index ->
                Card {
                    Row(
                        modifier = Modifier.padding(16.dp),
                        verticalAlignment = Alignment.CenterVertically
                    ) {
                        Surface(
                            modifier = Modifier.size(48.dp),
                            shape = CircleShape,
                            color = MaterialTheme.colorScheme.primaryContainer
                        ) {
                            Box(contentAlignment = Alignment.Center) {
                                Icon(
                                    imageVector = when (selectedTabIndex) {
                                        0 -> Icons.Default.Feed
                                        1 -> Icons.Default.VideoFile
                                        2 -> Icons.Default.Article
                                        else -> Icons.Default.QuestionAnswer
                                    },
                                    contentDescription = null,
                                    modifier = Modifier.size(24.dp),
                                    tint = MaterialTheme.colorScheme.primary
                                )
                            }
                        }
                        Spacer(modifier = Modifier.width(12.dp))
                        Column(modifier = Modifier.weight(1f)) {
                            Text(
                                text = "${tabs[selectedTabIndex]} 标题 ${index + 1}",
                                style = MaterialTheme.typography.titleSmall
                            )
                            Text(
                                text = "这是${tabs[selectedTabIndex]}内容的详细描述...",
                                style = MaterialTheme.typography.bodySmall,
                                color = MaterialTheme.colorScheme.onSurfaceVariant,
                                maxLines = 2
                            )
                        }
                        Icon(
                            imageVector = Icons.Default.MoreVert,
                            contentDescription = "更多操作",
                            tint = MaterialTheme.colorScheme.onSurfaceVariant
                        )
                    }
                }
            }
        }
    }
}
```

---

## 4. 实践示例：完整的导航系统

```kotlin
@Composable
fun CompleteNavigationExample() {
    var currentTab by remember { mutableStateOf(0) }
    var bottomNavIndex by remember { mutableIntStateOf(0) }

    val mainTabs = listOf("发现", "推荐", "关注")
    val bottomNavItems = listOf(
        "首页" to Icons.Default.Home,
        "探索" to Icons.Default.Explore,
        "创作" to Icons.Default.Create,
        "消息" to Icons.Default.Message,
        "个人" to Icons.Default.Person
    )

    Scaffold(
        bottomBar = {
            NavigationBar {
                bottomNavItems.forEachIndexed { index, (label, icon) ->
                    NavigationBarItem(
                        icon = { Icon(icon, contentDescription = label) },
                        label = { Text(label) },
                        selected = bottomNavIndex == index,
                        onClick = { bottomNavIndex = index }
                    )
                }
            }
        }
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues)
        ) {
            // 顶部 TabRow
            TabRow(
                selectedTabIndex = currentTab
            ) {
                mainTabs.forEachIndexed { index, tab ->
                    Tab(
                        selected = currentTab == index,
                        onClick = { currentTab = index },
                        text = { Text(tab) }
                    )
                }
            }

            // 内容区域
            LazyColumn(
                modifier = Modifier.fillMaxSize(),
                contentPadding = PaddingValues(16.dp),
                verticalArrangement = Arrangement.spacedBy(16.dp)
            ) {
                item {
                    Card {
                        Column(
                            modifier = Modifier.padding(16.dp)
                        ) {
                            Text(
                                text = "${bottomNavItems[bottomNavIndex].first} - ${mainTabs[currentTab]}",
                                style = MaterialTheme.typography.titleMedium,
                                fontWeight = FontWeight.Bold
                            )
                            Spacer(modifier = Modifier.height(8.dp))
                            Text(
                                text = "这是一个完整的导航系统示例，结合了底部导航和标签页导航。",
                                style = MaterialTheme.typography.bodyMedium,
                                color = MaterialTheme.colorScheme.onSurfaceVariant
                            )
                        }
                    }
                }

                // 模拟内容列表
                items(20) { index ->
                    Card {
                        Row(
                            modifier = Modifier.padding(16.dp),
                            verticalAlignment = Alignment.CenterVertically
                        ) {
                            Surface(
                                modifier = Modifier.size(48.dp),
                                shape = CircleShape,
                                color = MaterialTheme.colorScheme.primaryContainer
                            ) {
                                Box(contentAlignment = Alignment.Center) {
                                    Text(
                                        text = "${index + 1}",
                                        style = MaterialTheme.typography.titleSmall,
                                        color = MaterialTheme.colorScheme.onPrimaryContainer
                                    )
                                }
                            }
                            Spacer(modifier = Modifier.width(12.dp))
                            Column(modifier = Modifier.weight(1f)) {
                                Text(
                                    text = "内容项目 ${index + 1}",
                                    style = MaterialTheme.typography.titleSmall
                                )
                                Text(
                                    text = "这是 ${bottomNavItems[bottomNavIndex].first} 中 ${mainTabs[currentTab]} 的内容",
                                    style = MaterialTheme.typography.bodySmall,
                                    color = MaterialTheme.colorScheme.onSurfaceVariant
                                )
                            }
                        }
                    }
                }
            }
        }
    }
}
```

---

## 5. 最佳实践

### 5.1 导航组件选择

1. **BottomNavigation**：移动应用主要导航，3-5个选项
2. **NavigationRail**：大屏幕应用，5-7个选项
3. **TabRow**：页面内容分类，4-8个标签
4. **ScrollableTabRow**：需要更多标签时使用

### 5.2 设计原则

1. **保持简洁**：导航项数量要适中
2. **清晰的图标和标签**：用户能够快速理解功能
3. **一致的行为**：导航交互模式保持一致
4. **适当的反馈**：选中状态和交互反馈明确

### 5.3 性能优化

1. **避免过度重组**：合理使用 remember 和稳定状态
2. **延迟加载**：内容按需加载
3. **动画优化**：使用适当的转场动画

### 5.4 无障碍性

1. **内容描述**：为图标提供适当的 contentDescription
2. **键盘导航**：支持键盘操作
3. **高对比度**：确保在不同主题下都能良好显示

---

## 6. 总结

Jetpack Compose 的导航组件提供了完整的导航解决方案：

1. **NavigationRail**：适合大屏幕的侧边导航
2. **BottomNavigation**：移动应用的标准底部导航
3. **TabRow/ScrollableTabRow**：页面内容的分类导航
4. **丰富的自定义选项**：支持徽章、图标、自定义指示器
5. **Material Design 3**：遵循最新的设计规范
6. **灵活的组合使用**：可以组合多种导航方式

通过合理使用这些组件，你可以构建用户友好且符合设计规范的导航系统。

在下一篇文章中，我们将探讨 Material Design 3 新潮组件，学习最新的设计趋势和组件用法。

---

## 相关资源

- [Material 3 Navigation Documentation](https://m3.material.io/components/navigation-bar)
- [Compose Navigation Documentation](https://developer.android.com/jetpack/compose/navigation)
- [Compose Bottom Navigation Documentation](https://developer.android.com/jetpack/compose/components/bottom-navigation)

---

*本文基于 Android Jetpack Compose 最新版本编写，部分 API 可能会随着版本更新而变化。*